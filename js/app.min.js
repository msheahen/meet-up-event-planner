var APP=function(){function e(){q.value.length<1?($("#eventNameError").html("Event Name is Required"),v=!0):($("#eventNameError").html(""),v=!1,localStorage.setItem("eventName",q.value))}function t(){D.value.length<1?($("#eventTypeError").html("Event Type is Required"),m=!0):($("#eventTypeError").html(""),m=!1,localStorage.setItem("eventType",D.value))}function r(){I.value.length<1?($("#startDateError").html("Start Date is Required"),d=!0):($("#startDateError").html(""),d=!1,localStorage.setItem("eventStart",I.value))}function n(){T.value.length<1?($("#endDateError").html("End Date is Required"),f=!0):T.value<=I.value?($("#endDateError").html("Event ending time must be after event starting time"),E=!0,f=!1):($("#endDateError").html(""),f=!1,E=!1,localStorage.setItem("eventEnd",T.value))}function o(){H.value.length<1?($("#eventHostError").html("Event Host is Required"),g=!0):($("#eventHostError").html(""),g=!1,localStorage.setItem("eventHost",H.value))}function a(){R.value.length<1?($("#eventDescriptionError").html("Event Description is Required"),h=!0):($("#eventDescriptionError").html(""),h=!1,localStorage.setItem("eventDescription",R.value))}function u(){C.value.length<1?($("#eventAddressError").html("Event Address is Required"),eaddressError=!0):($("#eventAddressError").html(""),eaddressError=!1,localStorage.setItem("eventAddress",C.value))}function l(){b.value.length<1?($("#eventCityError").html("Event City is Required"),S=!0):($("#eventCityError").html(""),S=!1,localStorage.setItem("eventCity",b.value))}function s(){z.value.length<1?($("#eventStateError").html("Event State is Required"),y=!0):($("#eventStateError").html(""),y=!1,localStorage.setItem("eventState",z.value))}function c(){return""!==document.getElementById("attendees").innerHTML&&(localStorage.setItem("attendees",document.getElementById("attendees").innerText),!0)}function i(){var i="Please correct the following errors: <br>";e(),t(),r(),n(),o(),a(),u(),l(),s();var q=c();q?(p=!1,$("#eventGuestError").html("")):(p=!0,$("#eventGuestError").html("You must add at least one guest")),localStorage.setItem("eventMessage",$("#eventMessage").value);var D=v+m+d+f+E+g+h+eaddressError+S+y+p;return{containsErrors:D,errorMessage:i}}$("#eventHost").val(localStorage.getItem("name"));var v=!1,m=!1,d=!1,f=!1,E=!1,g=!1,h=!1,S=!1,y=!1,p=!1,q=document.querySelector("#eventName"),D=document.querySelector("#eventType"),I=document.querySelector("#startDate"),T=document.querySelector("#endDate"),H=document.querySelector("#eventHost"),R=document.querySelector("#eventDescription"),C=document.querySelector("#eventAddress"),b=document.querySelector("#eventCity"),z=document.querySelector("#eventState"),M=document.querySelector("input.new-guest"),k=document.querySelector("#attendees");q.onfocusout=function(t){e()},D.onfocusout=function(e){t()},I.onfocusout=function(e){r()},T.onfocusout=function(e){n()},H.onfocusout=function(e){o()},R.onfocusout=function(e){a()},C.onfocusout=function(e){u()},b.onfocusout=function(e){l()},z.onfocusout=function(e){s()},M.onkeydown=function(e){if("Enter"===e.keyIdentifier){var t=new RegExp("^[-a-z0-9~!$%^&*_=+}{'?]+(.[-a-z0-9~!$%^&*_=+}{'?]+)*@([a-z0-9_][-a-z0-9_]*(.[-a-z0-9_]+)*.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}))(:[0-9]{1,5})?$"),r=t.test(M.value);if(r){var n=document.createElement("div"),o=document.createElement("button");o.innerHTML="-",o.parent=n,o.onclick=function(){k.removeChild(this.parent)},n.innerHTML=M.value,n.value=M.value,n.appendChild(o),k.appendChild(n),M.value="",$("#eventGuestError").html("")}else console.log("event!"),$("#eventGuestError").html("email address not valid")}};var A=document.querySelector("button#create-event");A.onclick=function(){var e=i();if(e.containsErrors){var t=document.querySelector("#error-message");t.innerHTML=e.errorMessage}else location="past-event.html"},$("form").bind("keypress",function(e){if(13==e.keyCode)return $("#btnSearch").attr("value"),!1});for(var N=document.getElementsByTagName("form"),L=0;L<N.length;L++)N[L].addEventListener("invalid",function(e){e.preventDefault()},!0)}();